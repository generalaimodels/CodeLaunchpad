<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM Manipulation Mastery 💪</title>
</head>
<body>
    <!-- 🌳 DOM Tree Introduction 🌳 -->
    <!--
        DOM (Document Object Model):
        - Represents HTML as a tree-like structure. 🌲
        - Browser parses HTML and creates this model in memory. 🧠
        - JavaScript interacts with this tree to manipulate the webpage. ✍️

        DOM Tree Structure:
        - `document` (root) 🌍
          └── `<html>`
              ├── `<head>` 🧠
              │   └── `<title>` "DOM Page" 📝
              └── `<body>` 🖼️
                  ├── `<h1>` "DOM Manipulation Examples" 🚀
                  ├── `<div id="container">` 📦
                  │   ├── `<p class="text">` "First Paragraph" 📜
                  │   └── `<p class="text">` "Second Paragraph" 📜
                  └── `<ul>` "List Items" 📝
                      ├── `<li class="item" data-index="1">` "Item 1" 🔢
                      ├── `<li class="item" data-index="2">` "Item 2" 🔢
                      └── `<li class="item" data-index="3">` "Item 3" 🔢

        Simplified Visualization:

        document 🌍
          |
        <html> 🌳
          |   |
       <head> 🧠  <body> 🖼️
         |       |      |
      <title> 📝  <h1> 🚀  <div> 📦 <ul> 📝
                     |       |     |
                   "Title" "Heading" <p> 📜 <p> 📜 <li> 🔢 <li> 🔢 <li> 🔢
                                          |     |     |
                                        "P1"  "P2"  "I1" "I2" "I3"
    -->

    <h1 id="main-heading">DOM Manipulation Examples 🚀</h1>

    <div id="container">
        <p class="text">First Paragraph 📜</p>
        <p class="text">
            Ask any question to two chosen models (e.g., ChatGPT, Gemini, Claude, Llama) and vote for the better one!
            You can chat for multiple turns until you identify a winner.📜</p>
    </div>

    <ul id="item-list">
        <li class="item" data-index="1">Item 1 🔢</li>
        <li class="item" data-index="2">Item 2 🔢</li>
        <li class="item" data-index="3">Item 3 🔢</li>
    </ul>

    <div id="styling-div" style="border: 1px solid black; padding: 10px;">Styling Example 🎨</div>

    <script>
        // 🎯 2. Selecting HTML Elements 🎯

        // 🆔 getElementById() - Selects a single element by its unique ID.
        // Example 1: Select the main heading. 🚀
        const headingElement = document.getElementById('main-heading');
        console.log("getElementById('main-heading'):", headingElement); // Output: <h1>...</h1>

        // Example 2: Select the container div. 📦
        const containerElement = document.getElementById('container');
        console.log("getElementById('container'):", containerElement); // Output: <div id="container">...</div>


        // 🏷️ getElementsByClassName() - Selects all elements with a specific class name. Returns HTMLCollection (live). 📦📦📦
        // Example 1: Select all paragraphs with class 'text'. 📜📜
        const paragraphElements = document.getElementsByClassName('text');
        console.log("getElementsByClassName('text'):", paragraphElements); // Output: HTMLCollection [p.text, p.text]
        console.log("paragraphElements[0]:", paragraphElements[0]); // Accessing the first paragraph
        console.log("paragraphElements[0]:", paragraphElements[1]); // Accessing the first paragraph


        // Example 2: Select list items with class 'item'. 🔢🔢🔢
        const itemElements = document.getElementsByClassName('item');
        console.log("getElementsByClassName('item'):", itemElements); // Output: HTMLCollection [li.item, li.item, li.item]
        console.log("itemElements[1]:", itemElements[1]); // Accessing the second list item


        // <tagName> getElementsByTagName() - Selects all elements with a specific tag name. Returns HTMLCollection (live). <p><p><p> ...
        // Example 1: Select all paragraph elements <p>. 📜📜
        const allParagraphs = document.getElementsByTagName('p');
        console.log("getElementsByTagName('p'):", allParagraphs); // Output: HTMLCollection [p.text, p.text] (in this context)


        // Example 2: Select all list item elements <li>. 🔢🔢🔢
        const allListItems = document.getElementsByTagName('li');
        console.log("getElementsByTagName('li'):", allListItems); // Output: HTMLCollection [li.item, li.item, li.item]


        // 🔍 querySelector() - Selects the FIRST element that matches a CSS selector. Returns a single element or null. 🥇
        // Example 1: Select the first paragraph with class 'text' inside '#container'. 📜
        const firstParagraph = document.querySelector('#container p.text');
        console.log("querySelector('#container p.text'):", firstParagraph); // Output: <p class="text">...</p>


        // Example 2: Select the first list item with class 'item' inside '#item-list'. 🔢
        const firstListItem = document.querySelector('#item-list li.item');
        console.log("querySelector('#item-list li.item'):", firstListItem); // Output: <li class="item">...</li>


        // 🔎 querySelectorAll() - Selects ALL elements that match a CSS selector. Returns NodeList (static). 📦📦📦... or 🔢🔢🔢...
        // Example 1: Select all paragraphs with class 'text' inside '#container'. 📜📜
        const allContainerParagraphs = document.querySelectorAll('#container p.text');
        console.log("querySelectorAll('#container p.text'):", allContainerParagraphs); // Output: NodeList [p.text, p.text]


        // Example 2: Select all list items with class 'item' inside '#item-list'. 🔢🔢🔢
        const allListItemsQuery = document.querySelectorAll('#item-list li.item');
        console.log("querySelectorAll('#item-list li.item'):", allListItemsQuery); // Output: NodeList [li.item, li.item, li.item]


        // 🛠️ 3. Modifying HTML Elements 🛠️

        // ✍️ innerHTML - Gets or sets the HTML content of an element (can include HTML tags). ⚠️ Use with caution for user input (XSS risk).
        // Example 1: Change heading text to include HTML. <b>...</b>
        headingElement.innerHTML = '<b>New Bold Heading!</b> 🔥';

        // Example 2: Add a list to the container using innerHTML. <ul><li>...</li></ul>
        containerElement.innerHTML = '<ul id="dynamic-list"><li>Item A</li><li>Item B</li></ul>';
        const dynamicList = document.getElementById('dynamic-list'); // Select the newly created list


        // 📝 textContent - Gets or sets the TEXT content of an element (treats content as plain text, safer than innerHTML). ✅
        // Example 1: Change paragraph text using textContent. 📜
        paragraphElements[0].textContent = 'This is the first paragraph with updated text content. 🛡️';

        // Example 2: Change list item text using textContent. 🔢
        itemElements[1].textContent = 'Item Two - Text Content Updated! 🛡️';


        // ⚙️ setAttribute(attribute, value) - Sets the value of an attribute on an element.
        // Example 1: Set 'data-status' attribute on the container div. 📦
        containerElement.setAttribute('data-status', 'active');
        console.log("containerElement.getAttribute('data-status'):", containerElement.getAttribute('data-status')); // Output: active

        // Example 2: Set 'title' attribute on the heading. 🚀
        headingElement.setAttribute('title', 'Main Heading of the Page');
        console.log("headingElement.getAttribute('title'):", headingElement.getAttribute('title')); // Output: Main Heading of the Page


        // 🔍 getAttribute(attribute) - Gets the value of an attribute on an element.
        // Example 1: Get 'id' attribute of the container div. 📦
        const containerId = containerElement.getAttribute('id');
        console.log("containerElement.getAttribute('id'):", containerId); // Output: container

        // Example 2: Get 'class' attribute of the first paragraph (returns null if no such attribute directly set). 📜
        const firstParagraphClass = paragraphElements[0].getAttribute('class');
        console.log("paragraphElements[0].getAttribute('class'):", firstParagraphClass); // Output: text


        // 🎨 style -  Object to access and modify inline styles of an element.
        // Example 1: Change background color and text color of the styling div. 🎨
        const stylingDiv = document.getElementById('styling-div');
        stylingDiv.style.backgroundColor = 'lightblue';
        stylingDiv.style.color = 'darkblue';
        stylingDiv.style.fontWeight = 'bold';

        // Example 2: Change font size and padding of the heading. 🚀
        headingElement.style.fontSize = '2.5em';
        headingElement.style.padding = '15px';
        headingElement.style.borderBottom = '2px solid red';


        // ➕ 4. Adding and Removing HTML Elements ➖

        // 🆕 createElement(tagName) - Creates a new HTML element node in memory. Not yet in the DOM. 📦
        // Example 1: Create a new paragraph element. 📜
        const newParagraphElement = document.createElement('p');
        newParagraphElement.textContent = 'This is a dynamically created paragraph! ✨';
        newParagraphElement.classList.add('dynamic-paragraph'); // Add a class for styling later

        // Example 2: Create a new list item element. 🔢
        const newItemElement = document.createElement('li');
        newItemElement.textContent = 'Dynamically added list item! 🌟';
        newItemElement.classList.add('dynamic-item');


        // ➕ appendChild(node) - Adds a node as the LAST child of a parent element. ➡️
        // Example 1: Append the new paragraph to the container div. 📦📜
        containerElement.appendChild(newParagraphElement); // Paragraph added at the end of container

        // Example 2: Append the new list item to the item list ul. 📝🔢
        const itemListElement = document.getElementById('item-list');
        itemListElement.appendChild(newItemElement); // List item added at the end of the list


        // ➕ insertBefore(newNode, referenceNode) - Inserts a node BEFORE a specified reference node. ⬅️
        // Example 1: Insert a new paragraph BEFORE the first existing paragraph in the container. 📦📜📜
        const anotherNewParagraph = document.createElement('p');
        anotherNewParagraph.textContent = 'Paragraph inserted BEFORE the first one! 💫';
        anotherNewParagraph.classList.add('inserted-paragraph');
        containerElement.insertBefore(anotherNewParagraph, paragraphElements[0]); // Inserted before the first <p>

        // Example 2: Insert a new list item BEFORE the second list item. 📝🔢🔢
        const anotherNewItem = document.createElement('li');
        anotherNewItem.textContent = 'List item inserted BEFORE the second one! ✨';
        anotherNewItem.classList.add('inserted-item');
        itemListElement.insertBefore(anotherNewItem, itemElements[1]); // Inserted before the second <li>


        // ➖ removeChild(childNode) - Removes a child node from a parent element. ✂️ (Need parent to call this on)
        // Example 1: Remove the dynamically created paragraph from the container (remove last child in this case). 📦✂️📜
        containerElement.removeChild(newParagraphElement); // Removes the paragraph appended earlier

        // Example 2: Remove the first list item from the item list. 📝✂️🔢
        itemListElement.removeChild(itemListElement.firstChild); // Removes the very first list item


        // ➖ remove() - Removes the element itself from the DOM. ✂️ (Call directly on the element to remove itself)
        // Example 1: Remove the styling div. ✂️🎨
        stylingDiv.remove(); // Styling div is now gone! 👋

        // Example 2: Remove the second paragraph element (after first one might have been inserted before). ✂️📜
        paragraphElements[1].remove(); // Removes the second paragraph (be mindful of live HTMLCollection indices if elements are added/removed)


        // 🎨 5. Styling HTML Elements using JavaScript (revisited) 🎨

        // Example 1: Style the dynamically created paragraph using classList and CSS. 📜💅
        newParagraphElement.classList.add('styled-paragraph'); // Add a class for styling
        // CSS can be defined in <style> tag in <head> or external CSS file.
        // For brevity, we will just assume a CSS rule exists: .styled-paragraph { color: green; font-style: italic; }

        // Example 2: Style the dynamically added list item inline. 🔢✨
        anotherNewItem.style.color = 'purple';
        anotherNewItem.style.textDecoration = 'underline';


        // 🎉 DOM Manipulation Mastered! 🎉
        console.log("DOM Manipulation Chapter Completed! You are now a DOM Master! 🎓");
    </script>
</body>
</html>